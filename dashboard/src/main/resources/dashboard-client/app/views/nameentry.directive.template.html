<div>
    <div class="row rowClearance">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <div class="btn-group">
                <button ng-click="create()" class="btn btn-default btn-lg">{{ buttonAction }}</button>
                <button class="btn btn-default btn-lg" ng-show="isAdmin" ng-click="delete(formEntry.name)">Delete entry</button>
            </div>
        </div>
    </div>
    <div class="row rowClearance">
        <form class="form-horizontal" name="nameForm" id="nameForm" role="form">
            <div class="container">
                <div class="row">
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <div class="form-group" show-errors>
                            <label for="nameEntry" class="control-label col-sm-4">Name</label>
                            <div class="col-sm-8">
                                <input required autocomplete="off" ng-readonly="duplicateView" class="form-control" id="nameEntry" placeholder="Name" name="name" ng-model="formEntry.name" ng-change="findName(formEntry.name)">
                                <h6 ng-show="nameForm.name.$invalid && !nameForm.name.$pristine" class="help-block">A valid name is required</h6>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="ipaEntry" class="control-label col-sm-4">IPA Notation</label>
                            <div class="col-sm-8">
                                <tags-input id="ipaEntry" placeholder="IPA Notation" name="ipaNotation" ng-model="formEntry.ipaNotation">
                                    <h6 ng-show="nameForm.ipaNotation.$invalid && !nameForm.ipaNotation.$pristine" class="help-block">A valid ipaNotation is required</h6>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="pronunciationEntry" class="control-label col-sm-4">Pronunciation</label>
                            <div class="col-sm-8">
                                <tags-input id="pronunciationEntry" placeholder="pronunciation" name="tonalMark" ng-model="formEntry.pronunciation">
                                    <h6 ng-show="nameForm.tonalMark.$invalid && !nameForm.tonalMark.$pristine" class="help-block">A valid tonalMark is required</h6>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="syllablesEntry" class="control-label col-sm-4">Syllabic Breakdown</label>
                            <div class="col-sm-8">
                                <tags-input id="syllablesEntry" placeholder="Syllables" name="syllables" ng-model="formEntry.syllables">
                                    <h6 ng-show="nameForm.syllables.$invalid && !nameForm.syllables.$pristine" class="help-block">Valid syllables are required</h6>
                            </div>
                        </div>
                        <div class="form-group" show-errors>
                            <label for="meaningEntry" class="control-label col-sm-4">Meaning</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" id="meaningEntry" placeholder="Meaning of word" name="meaning" ng-model="formEntry.meaning"></textarea>
                                <h6 ng-show="nameForm.meaning.$invalid && !nameForm.meaning.$pristine" class="help-block">A valid meaning is required</h6>
                            </div>
                        </div>
                        <div class="form-group" show-errors>
                            <label for="extendedMeaningEntry" class="control-label col-sm-4">Extended meaning </label>
                            <div class="col-sm-8">
                                <textarea class="form-control" id="extendedMeaningEntry" placeholder="Meaning of word" name="extendedMeaning" ng-model="formEntry.extendedMeaning"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <div class="form-group">
                            <label for="morphologyEntry" class="control-label col-sm-4">Morphology</label>
                            <div class="col-sm-8">
                                <tags-input id="morphologyEntry" placeholder="Morphology" name="morphology" ng-model="formEntry.morphology">
                                    <h6 ng-show="nameForm.morphology.$invalid && !nameForm.morphology.$pristine" class="help-block">A valid morphology is required</h6>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="etymology" class="col-sm-4 control-label">Etymology:</label>
                            <div class="col-sm-8">
                                <etymology id="etymology"></etymology>
                            </div>
                        </div>
                        <!-- Not yet implemented on server -->
                        <!--  <div class="form-group">
                            <label for="addmedia" class="col-sm-4 control-label">Add Media:</label>
                            <div class="col-sm-8">
                                <add-media id="addmedia">
                                </add-media>
                            </div>
                        </div> -->
                        <div class="form-group">
                            <label for="addmedia" class="col-sm-4 control-label">Add Media:</label>
                            <div class="col-sm-8">
                                <input type="text" name="media" class="form-control" ng-model="formEntry.media">
                            </div>
                        </div>
                        <div class="form-group" show-errors>
                            <label for="geolocation" class="col-sm-4 control-label">Geolocation:</label>
                            <div class="col-sm-8">
                                <select class="form-control" name="geolocation" data-ng-options="o.place for o in geoList track by o.place" data-ng-model="formEntry.geoLocation"></select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <hr/>
        <div ng-if="duplicateView">
            <h3>Duplicate entries (Copy and modify main entry if useful. If not remove)</h3>
            <ul id="duplicateList">
                <li ng-repeat="entry in duplicates">
                    {{ entry.name }} - {{ entry.meaning | limitTo: 80}} ... <a class="btn btn-primary btn-xs" data-toggle="collapse" data-target="#collapseEntry{{$index}}">more</a>
                    <br/>
                    <div class="collapse" id="collapseEntry{{$index}}">
                        <div class="duplicateDetails">
                            <strong>Name:</strong> {{ entry.name }}
                            <br/>
                            <strong>Tone Mark:</strong> {{ entry.tonalMark }}
                            <br/>
                            <strong>Meaning:</strong> {{ entry.meaning }}
                            <br/>
                            <strong>Morphology:</strong> {{ entry.morphology }}
                            <br/>
                            <strong>Geolocation:</strong> {{ entry.geoLocation }}
                            <br/>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
